/// Layout Base
/// Outputs responsive base grid
/// @access private
@mixin _oLayoutBase() {
	html,
	body {
		margin: 0;
	}

	.o-layout {
		position: relative;
		display: grid;
		box-sizing: border-box;
		min-height: 100vh;
		min-width: 100%;
		grid-template-columns: 100%;
		grid-template-rows: auto 1fr auto;
		grid-column-gap: $_o-layout-gutter;
		grid-template-areas:
			"header"
			"body"
			"footer";
	}
}


/// Grid for a landing page layout (e.g. homepage).
/// @access private
@mixin _oLayoutLandingGrid() {
	.o-layout.o-layout--landing .o-layout__body {
		grid-template-rows: auto 1fr;
		grid-template-areas:
			"hero"
			"main";
	}
}

/// Grid for document layout.
/// @access private
@mixin _oLayoutDocsGrid() {
	.o-layout.o-layout--docs .o-layout__body {
		grid-template-rows: auto 1fr;
		grid-template-areas:
			"sidebar"
			"main";

		@include oGridRespondTo($from: M) {
			grid-template-rows: 1fr;
			grid-template-columns: minmax(auto, $_o-layout-sidebar-max-width) minmax(31rem, 1fr);
			grid-template-areas:
				"sidebar main";
		};
	}

	.o-layout.o-layout--docs > .o-layout__main {
		@include oGridRespondTo($from: L) {
			> * {
				box-sizing: border-box;
				max-width: calc(100% - #{$_o-layout-sidebar-max-width} - #{$_o-layout-gutter});
				float: left;
				clear: left;
			}
			> aside {
				box-sizing: border-box;
				max-width: $_o-layout-sidebar-max-width;
				margin-bottom: oTypographySpacingSize(10);
				float: right;
				clear: right;
				:last-child {
					margin-bottom: 0;
				}
			}
		};

		> table:not(.o-layout__main__single-span) {
			max-width: none;
			float: none;
		}

		.o-layout__rule-left {
			@include _oLayoutRule('left');
		}

		.o-layout__rule-right {
			@include _oLayoutRule('right');
		}

		.o-layout__main__full-span {
			display: block;
			max-width: none;
			float: none;
		}
	}
}

/// Grid for query layout.
/// @access private
@mixin _oLayoutQueryGrid() {
	.o-layout.o-layout--query .o-layout__body {
		grid-template-rows: auto auto 1fr auto;
		grid-template-areas:
			"heading"
			"query-sidebar"
			"main"
			"aside-sidebar";

		@include oGridRespondTo($from: M) {
			grid-template-rows: auto 1fr auto;
			grid-template-columns: minmax(auto, $_o-layout-sidebar-max-width) minmax(15rem, 1fr);
			grid-template-areas:
				"query-sidebar heading"
				"query-sidebar main"
				"query-sidebar aside-sidebar"
		};

		@include oGridRespondTo($from: L) {
			grid-template-rows: auto 1fr;
			grid-template-columns: minmax(auto, $_o-layout-sidebar-max-width) minmax(15rem, 1fr) fit-content($_o-layout-sidebar-max-width);
			grid-template-areas:
				"query-sidebar heading aside-sidebar"
				"query-sidebar main aside-sidebar";
		};

		.o-layout__main {
			margin-top: 0;
		}

		.o-layout__heading {
			margin-top: $_o-layout-gutter;
			padding: 0 $_o-layout-gutter;
			@include oGridRespondTo($from: M) {
				padding: 0;
			}
		}

		.o-layout__query-sidebar {
			border-right: 1px solid oColorsGetPaletteColor('slate-white-15');
			padding: 0 $_o-layout-gutter;
			margin: 0;
			@include oGridRespondTo($from: M) {
				padding: 0 $_o-layout-gutter 0 0;
				margin: $_o-layout-gutter 0 oTypographySpacingSize(5);
			}
		}

		.o-layout__aside-sidebar {
			padding: 0 $_o-layout-gutter;
			@include oGridRespondTo($from: M) {
				padding: 0;
			}
			@include oGridRespondTo($from: L) {
				margin: $_o-layout-gutter 0;
				padding: 0 0 0 $_o-layout-gutter;
				border-left: 1px solid oColorsGetPaletteColor('slate-white-15');
			}
		}
	}
}
