@mixin oLayoutAreas($class: 'o-layout') {
	@include oLayoutAreaHeader($class);
	@include oLayoutAreaSidebar($class);
	@include oLayoutAreaMain($class);
	@include oLayoutAreaFooter($class);
}

@mixin oLayoutAreaHeader($class: 'o-layout') {
	.#{$class}__area--header {
		grid-area: header;
	}
}

@mixin oLayoutAreaSidebar($class: 'o-layout') {
	.#{$class}__area--sidebar {
		@include oTypographySans(1);
		@include _oLayoutNavigation($class);
		@include oLayoutBreakPoint($until: M) {
			padding: 0 1rem;
		}
		
		grid-area: sidebar;

		a {
			@include oTypographyLink;
			border: 0;
		}

	}
}

@mixin oLayoutAreaMain($class: 'o-layout') {
	.#{$class}__area--main {
		@include _oLayoutBody;
		@include _oLayoutAside($class);
		@include _oLayoutTable($class);
		@include oLayoutBreakPoint($until: M) {
			padding: 0 1rem;
		}

		@include oLayoutBreakPoint($from: ML) {
			display: grid;
			grid-column-gap: $_o-layout-gutter;
			grid-template-columns: $_o-layout-main-section-width 1fr;
		}

		grid-area: main;
		overflow: hidden;

		* {
			grid-column: 1;
		}

		.#{$class}__rule-left {
			@include oLayoutRule('left');
		}

		.#{$class}__rule-right {
			@include oLayoutRule('right');
		}
	}
}

@mixin oLayoutAreaFooter($class: 'o-layout') {
	.#{$class}__area--footer {
		grid-area: footer;
		padding: 0;
	}
}

@mixin _oLayoutNavigation($class: 'o-layout') {
	.#{$class}__navigation {
		@include oLayoutBreakPoint($from: M) {
			@include oLayoutRule('right');
			position: sticky;
			top: $_o-layout-gutter;
			text-align: right;
			margin-top: $_o-layout-gutter;
		}

		@include oLayoutRule('left');
		text-align: left;
		list-style: none;
		margin: 0;

		li {
			padding: 0.3em 0;

			&:before {
				content: '';
				padding: 0;
			}
		}
	}
}

@mixin _oLayoutAside($class: 'o-layout') {
	.#{$class}__aside {
		@include oLayoutBreakPoint($from: L) {
			display: grid; //TODO: change to subgrid when property is implemented in browsers
			grid-column-end: span 2;
			grid-template-columns: $_o-layout-main-section-width auto;
			grid-column-gap: $_o-layout-gutter;

			aside {
				grid-column: 2;
			}
		}
	}
}

@mixin _oLayoutTable($class: 'o-layout') {
	.#{$class}__table {
		grid-column: 1 / span 2;
		overflow-x: scroll;
		padding-right: 1rem;
	}
}
